<div class="import-cards">
	<mat-card>
		<ph-pipeline-create></ph-pipeline-create>
	</mat-card>
	<mat-card>
		<ph-files-upload [uploadText]="'Drop an pipeline file here.'"
										 [uploadFunction]="uploadFunction"
										 (uploaded)="onPipelineImported($event)"></ph-files-upload>
	</mat-card>
</div>

<mat-card>
	<mat-list *ngIf="getPipelines() | async as pipelines">
		<div mat-subheader>My Pipelines</div>
		<mat-list-item *ngFor="let pipeline of pipelines">
			<mat-icon mat-list-icon>account_tree</mat-icon>
			<div mat-line>
				<a [routerLink]="[pipeline.id]">{{pipeline.name}}</a>
			</div>
			<div mat-line> {{pipeline.createdOn | date: 'medium'}} </div>
			<ph-pipeline-export style="opacity: 0.66" [pipelineId]="pipeline.id" [compact]="true"></ph-pipeline-export>
		</mat-list-item>

		<mat-list-item *ngIf="pipelines.length === 0">
			<p>You do not have any pipeline - select a template to get started.</p>
		</mat-list-item>
	</mat-list>
</mat-card>
