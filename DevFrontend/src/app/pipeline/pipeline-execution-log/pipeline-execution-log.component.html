<mat-card>
  <mat-card-title>
    Execution Log
  </mat-card-title>

  <mat-card-content *ngIf="executionEvents(pipelineId) | async as events">

    <mat-progress-bar
      *ngIf="getLast(events) as last"
      [mode]="'buffer'"
      [value]="progressValue(last)"
      [bufferValue]="bufferValue(last)">
    </mat-progress-bar>

    <mat-list>
      <mat-list-item *ngFor="let e of sort(events)">

        <mat-icon mat-list-icon>{{e.Successful ? 'check' : 'error'}}</mat-icon>
        <div mat-line>{{e.OperationName}} </div>
        <div mat-line>
          <a *ngIf="e.Successful" target="_blank" [href]="'http://localhost:5002/api/datasets/'+e.ResultDatasetKey">
            Result Dataset
          </a>
          <span *ngIf="e.ErrorDescription" style="color: red">{{e.ErrorDescription}}</span>
          &nbsp;
          <span [matTooltip]="e.CompletedAt | date: 'medium'">{{e.ExecutionTime}} ms</span>
          &nbsp;
          <span>(Execution: {{e.ExecutionId}})</span>

        </div>

      </mat-list-item>
    </mat-list>

  </mat-card-content>

</mat-card>
