<mat-card *ngIf="executionEvents(pipelineId) | async as events">
	<mat-card-content>

		<mat-progress-bar
			*ngIf="getLast(events) as last"
			[mode]="'buffer'"
			[value]="progressValue(last)"
			[bufferValue]="bufferValue(last)">
		</mat-progress-bar>

		<mat-list style="max-height: 250px; overflow-y: auto; padding: 0.5em 0;">
			<mat-list-item *ngFor="let e of sort(events)">

				<mat-icon mat-list-icon>{{e.Successful ? 'check' : 'error'}}</mat-icon>
				<div mat-line>{{e.OperationName}} </div>
				<div mat-line>
					<ng-container *ngFor="let dataset of e.ResultDatasets">
						<!-- TODO to not call a function here -> extremely inefficient -->
						<a *ngIf="e.Successful" target="_blank" [href]="getHtmlLinkToDataset(dataset)">
							Result Type {{dataset.Type}}
						</a>
					</ng-container>
					<span *ngIf="e.ErrorDescription" style="color: red">{{e.ErrorDescription}}</span>
					&nbsp;
					<span [matTooltip]="e.CompletedAt | date: 'medium'">{{e.ExecutionTime}} ms</span>
				</div>

			</mat-list-item>
		</mat-list>

	</mat-card-content>

</mat-card>
